{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "West Build App",
			"type": "shell",
			"group": "build",
			"command": "west",
			"args": [
				"build",
				"-p",
				"auto",
				"-d",
				"${config:prj.build_dir}",
				"-b",
				"${config:prj.board}${config:prj.soc_cpu}",
				"${config:prj.name}",
				"${config:prj.zephyr_config}",
				"${config:prj.zephyr_dtc_overlay}"
			],
			"dependsOn": [
				// "Clean Build",
				"Set Zephyr Source"
			 ],
			"problemMatcher": [ "$gcc" ]
		},
		{
			"label": "West Build Bootloader",
			"type": "shell",
			"group": "build",
			"command": "west",
			"args": [
				"build",
				"-p",
				"auto",
				"-d",
				"${BOOTLOADER_BUILD_DIR}",
				"-b",
				"${BOARD}${CPU}",
				"${BOOTLOADER_PRJ_NAME}"
			],
			"dependsOn": [
				// "Clean Build",
				"Set Zephyr Source"
			 ],
			"problemMatcher": [ "$gcc" ]
		},
		{
			"label": "Set Zephyr Source",
			"type": "shell",
			"group": "build",
			"command": "source",
			"args": [
				"${config:prj.zephyr_base}/zephyr-env.sh"
			],
			"dependsOn": [],
			"problemMatcher": []
		},
		{
			"label": "Clean Build App",
			"type": "shell",
			"group": "build",
			"command": "rm",
			"args": [
				"-rf",
				"${config:prj.build_dir}"
			],
			"dependsOn": [],
			"problemMatcher": []
		},
		{
			"label": "Clean Build Bootloader",
			"type": "shell",
			"group": "build",
			"command": "rm",
			"args": [
				"-rf",
				"${BOOTLOADER_BUILD_DIR}"
			],
			"dependsOn": [],
			"problemMatcher": []
		},
		{
			"label": "Style Check (commited only)",
			"type": "shell",
			"group": "test",
			"command": "",
			"args": [],
			"dependsOn": [
				"GitLint (commited only)",
				"Checkpatch (commited only)"
			],
			"problemMatcher": []
		},
		{
			"label": "GitLint (commited only)",
			"type": "shell",
			"group": "test",
			"command": "gitlint",
			"args": [],
			"dependsOn": [],
			"problemMatcher": []
		},
		{
			"label": "Checkpatch (commited only)",
			"type": "shell",
			"group": "test",
			"command": "${config:prj.zephyr_base}/scripts/checkpatch.pl",
			"args": [
				"-g",
				"HEAD-5"
			],
			"dependsOn": [],
			"problemMatcher": []
		},
		{
			"label": "Generate Eclipse CDT4",
			"type": "shell",
			"group": "build",
			"command": "cmake",
			"args": [
				"-G\"Eclipse CDT4 - Ninja\"",
				"-DBOARD=${config:prj.board}${config:prj.soc_cpu}}",
				"${workspaceFolder:AppUnderDev}"
			],
			"options": {
				"cwd": "${config:prj.build_dir}"
			},
			"dependsOn": [ "West Build Zephyr" ],
			"problemMatcher": []
		}
	]
}
